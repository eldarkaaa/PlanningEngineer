@model PlanningEngineerApplication.Models.RoomsMeasurementDto

@{
    ViewData["Title"] = "Room Details";
    var roomImagePath = ViewBag.RoomImagePath as string;
}

<h1 class="text-center">Значения отклонений для @Model.RoomName</h1>

<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card shadow-sm">
            <div class="card-header bg-primary text-white">
                Введите данные отклонений
            </div>
            <div class="card-body">
                <form asp-action="SaveMeasurements" method="post">
                    <div class="form-group">
                        <label asp-for="CeilingDeviation" class="control-label">Отклонение потолка</label>
                        <div class="input-group">
                            <input type="number" asp-for="CeilingDeviation" class="form-control" />
                            <div class="input-group-append">
                                <span class="input-group-text">мм</span>
                            </div>
                        </div>
                        <span asp-validation-for="CeilingDeviation" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Wall1Deviation" class="control-label">Отклонение стены 1</label>
                        <div class="input-group">
                            <input asp-for="Wall1Deviation" type="number" class="form-control" />
                            <div class="input-group-append">
                                <span class="input-group-text">мм</span>
                            </div>
                        </div>
                        <span asp-validation-for="Wall1Deviation" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Wall2Deviation" class="control-label">Отклонение стены 2</label>
                        <div class="input-group">
                            <input asp-for="Wall2Deviation" type="number" class="form-control" />
                            <div class="input-group-append">
                                <span class="input-group-text">мм</span>
                            </div>
                        </div>
                        <span asp-validation-for="Wall2Deviation" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Wall3Deviation" class="control-label">Отклонение стены 3</label>
                        <div class="input-group">
                            <input asp-for="Wall3Deviation" type="number" class="form-control" />
                            <div class="input-group-append">
                                <span class="input-group-text">мм</span>
                            </div>
                        </div>
                        <span asp-validation-for="Wall3Deviation" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Wall4Deviation" class="control-label">Отклонение стены 4</label>
                        <div class="input-group">
                            <input asp-for="Wall4Deviation" type="number" class="form-control" />
                            <div class="input-group-append">
                                <span class="input-group-text">мм</span>
                            </div>
                        </div>
                        <span asp-validation-for="Wall4Deviation" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="FloorDeviation" class="control-label">Отклонение пола</label>
                        <div class="input-group">
                            <input asp-for="FloorDeviation" type="number" class="form-control" />
                            <div class="input-group-append">
                                <span class="input-group-text">мм</span>
                            </div>
                        </div>
                        <span asp-validation-for="FloorDeviation" class="text-danger"></span>
                    </div>
                    <input type="hidden" asp-for="RoomId" />
                    <input type="hidden" asp-for="ApartmentId" />
                    <input type="hidden" asp-for="RoomName" />
                    <input type="hidden" asp-for="BuildingAddress" />
                    <br />
                    <div class="form-group">
                        <input type="submit" value="Сохранить" class="btn btn-primary" />
                        <a asp-action="Index" asp-route-apartmentId="@Model.ApartmentId" class="btn btn-secondary">Отменить</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        $(document).ready(function () {
            $("form").validate({
                rules: {
                    CeilingDeviation: {
                        required: true,
                        number: true
                    },
                    Wall1Deviation: {
                        required: true,
                        number: true
                    },
                    Wall2Deviation: {
                        required: true,
                        number: true
                    },
                    Wall3Deviation: {
                        required: true,
                        number: true
                    },
                    Wall4Deviation: {
                        required: true,
                        number: true
                    },
                    FloorDeviation: {
                        required: true,
                        number: true
                    }
                },
                messages: {
                    CeilingDeviation: {
                        required: "Отклонение потолка обязательно",
                        number: "Пожалуйста, введите действительное число"
                    },
                    Wall1Deviation: {
                        required: "Отклонение стены 1 обязательно",
                        number: "Пожалуйста, введите действительное число"
                    },
                    Wall2Deviation: {
                        required: "Отклонение стены 2 обязательно",
                        number: "Пожалуйста, введите действительное число"
                    },
                    Wall3Deviation: {
                        required: "Отклонение стены 3 обязательно",
                        number: "Пожалуйста, введите действительное число"
                    },
                    Wall4Deviation: {
                        required: "Отклонение стены 4 обязательно",
                        number: "Пожалуйста, введите действительное число"
                    },
                    FloorDeviation: {
                        required: "Отклонение пола обязательно",
                        number: "Пожалуйста, введите действительное число"
                    }
                },
                errorElement: "span",
                errorClass: "text-danger",
                highlight: function (element, errorClass, validClass) {
                    $(element).addClass("is-invalid").removeClass("is-valid");
                },
                unhighlight: function (element, errorClass, validClass) {
                    $(element).addClass("is-valid").removeClass("is-invalid");
                }
            });
        });
    </script>
}
